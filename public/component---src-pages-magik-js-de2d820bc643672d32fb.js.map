{"version":3,"sources":["webpack:///component---src-pages-magik-js-de2d820bc643672d32fb.js","webpack:///./src/pages/magik.js"],"names":["webpackJsonp","611","module","exports","516","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_react","_react2","_clarifai","e","Error","code","_clarifai2","app","Clarifai","App","apiKey","StoreIndex","_React$Component","props","this","_this","handleSubmit","bind","fileInput","React","createRef","state","file","imagePreviewUrl","imagePredictions","event","_this2","reader","FileReader","target","files","onloadend","setState","result","readAsDataURL","render","$imagePreview","createElement","src","console","log","split","models","predict","GENERAL_MODEL","base64","then","response","map","data","name","document","querySelector","innerHTML","err","className","id","onChange","type","ref","htmlFor","Component"],"mappings":"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","file":"component---src-pages-magik-js-de2d820bc643672d32fb.js","sourcesContent":["webpackJsonp([7970872287046],{\n\n/***/ 611:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 516:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _clarifai = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"clarifai\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t\n\tvar _clarifai2 = _interopRequireDefault(_clarifai);\n\t\n\t__webpack_require__(611);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable */\n\t\n\tvar app = new _clarifai2.default.App({ apiKey: '2d7718ce14934d9194e650c3d371394a' });\n\t\n\tvar StoreIndex = function (_React$Component) {\n\t  _inherits(StoreIndex, _React$Component);\n\t\n\t  function StoreIndex(props) {\n\t    _classCallCheck(this, StoreIndex);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.handleSubmit = _this.handleSubmit.bind(_this);\n\t    _this.fileInput = _react2.default.createRef();\n\t    _this.state = {\n\t      file: '',\n\t      imagePreviewUrl: '',\n\t      imagePredictions: 'nothing to show'\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  StoreIndex.prototype.handleSubmit = function handleSubmit(event) {\n\t    var _this2 = this;\n\t\n\t    // event.preventDefault()\n\t    // alert(`Selected file - ${this.fileInput.current.files[0].name}`)\n\t    // const uploadedFile = this.fileInput.current.files[0]\n\t    var reader = new FileReader();\n\t    var file = event.target.files[0];\n\t\n\t    reader.onloadend = function () {\n\t      _this2.setState({\n\t        file: file,\n\t        imagePreviewUrl: reader.result\n\t      });\n\t    };\n\t    reader.readAsDataURL(file);\n\t  };\n\t\n\t  StoreIndex.prototype.render = function render() {\n\t    var imagePreviewUrl = this.state.imagePreviewUrl;\n\t\n\t    var $imagePreview = null;\n\t    var imagePredictions = '';\n\t    if (imagePreviewUrl) {\n\t      $imagePreview = _react2.default.createElement('img', { src: imagePreviewUrl });\n\t\n\t      /*  */\n\t      /*  */\n\t      /*  */\n\t      console.log(imagePreviewUrl.split(',')[1]);\n\t      app.models.predict(_clarifai2.default.GENERAL_MODEL, {\n\t        base64: imagePreviewUrl.split(',')[1]\n\t      }).then(function (response) {\n\t        response['outputs'][0]['data']['concepts'].map(function (data) {\n\t          if (data.value > 0.8) {\n\t            return imagePredictions += '<span class=\"item\">' + data.name + '</span>';\n\t          }\n\t          console.log(imagePredictions);\n\t        });\n\t        document.querySelector('.predictions').innerHTML = imagePredictions;\n\t      }, function (err) {\n\t        console.log('error occured');\n\t        console.log(err);\n\t        // there was an error\n\t      });\n\t    } else {\n\t      $imagePreview = _react2.default.createElement(\n\t        'div',\n\t        { className: 'previewText' },\n\t        'Please select an Image for Preview'\n\t      );\n\t    }\n\t    return _react2.default.createElement(\n\t      'div',\n\t      null,\n\t      _react2.default.createElement(\n\t        'div',\n\t        { id: 'drop-area' },\n\t        _react2.default.createElement(\n\t          'form',\n\t          { onChange: this.handleSubmit, className: 'my-form' },\n\t          _react2.default.createElement('input', { type: 'file', id: 'fileElem', ref: this.fileInput }),\n\t          _react2.default.createElement(\n\t            'label',\n\t            { className: 'button', htmlFor: 'fileElem' },\n\t            'Select some file'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'imgPreview' },\n\t          $imagePreview\n\t        )\n\t      ),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'predictions' },\n\t        imagePredictions\n\t      )\n\t    );\n\t  };\n\t\n\t  return StoreIndex;\n\t}(_react2.default.Component);\n\t\n\texports.default = StoreIndex;\n\tmodule.exports = exports['default'];\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-magik-js-de2d820bc643672d32fb.js","/* eslint-disable */\r\n\r\nimport React from 'react'\r\nimport Clarifai from 'clarifai'\r\nimport '../css/style.css'\r\n\r\nconst app = new Clarifai.App({ apiKey: '2d7718ce14934d9194e650c3d371394a' })\r\n\r\nclass StoreIndex extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n    this.fileInput = React.createRef()\r\n    this.state = {\r\n      file: '',\r\n      imagePreviewUrl: '',\r\n      imagePredictions: 'nothing to show',\r\n    }\r\n  }\r\n  handleSubmit(event) {\r\n    // event.preventDefault()\r\n    // alert(`Selected file - ${this.fileInput.current.files[0].name}`)\r\n    // const uploadedFile = this.fileInput.current.files[0]\r\n    let reader = new FileReader()\r\n    let file = event.target.files[0]\r\n\r\n    reader.onloadend = () => {\r\n      this.setState({\r\n        file: file,\r\n        imagePreviewUrl: reader.result,\r\n      })\r\n    }\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  render() {\r\n    let { imagePreviewUrl } = this.state\r\n    let $imagePreview = null\r\n    let imagePredictions = ''\r\n    if (imagePreviewUrl) {\r\n      $imagePreview = <img src={imagePreviewUrl} />\r\n\r\n      /*  */\r\n      /*  */\r\n      /*  */\r\n      console.log(imagePreviewUrl.split(',')[1])\r\n      app.models\r\n        .predict(Clarifai.GENERAL_MODEL, {\r\n          base64: imagePreviewUrl.split(',')[1],\r\n        })\r\n        .then(\r\n          function(response) {\r\n            response['outputs'][0]['data']['concepts'].map(data => {\r\n              if (data.value > 0.8) {\r\n                return (imagePredictions += `<span class=\"item\">${\r\n                  data.name\r\n                }</span>`)\r\n              }\r\n              console.log(imagePredictions)\r\n            })\r\n            document.querySelector('.predictions').innerHTML = imagePredictions\r\n          },\r\n          function(err) {\r\n            console.log('error occured')\r\n            console.log(err)\r\n            // there was an error\r\n          }\r\n        )\r\n    } else {\r\n      $imagePreview = (\r\n        <div className=\"previewText\">Please select an Image for Preview</div>\r\n      )\r\n    }\r\n    return (\r\n      <div>\r\n        <div id=\"drop-area\">\r\n          <form onChange={this.handleSubmit} className=\"my-form\">\r\n            <input type=\"file\" id=\"fileElem\" ref={this.fileInput} />\r\n            <label className=\"button\" htmlFor=\"fileElem\">\r\n              Select some file\r\n            </label>\r\n            {/* <button type=\"submit\">Submit</button> */}\r\n          </form>\r\n          <div className=\"imgPreview\">{$imagePreview}</div>\r\n        </div>\r\n        <div className=\"predictions\">{imagePredictions}</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default StoreIndex\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/magik.js"],"sourceRoot":""}